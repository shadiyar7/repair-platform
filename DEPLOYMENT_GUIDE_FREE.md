# üöÄ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –î–µ–ø–ª–æ–π DYNAMIX (Render + Vercel)

–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –Ω—é–∞–Ω—Å–æ–≤ (**CORS**, **SSL**, **Seeds**) –¥–ª—è –±–µ–∑–±–æ–ª–µ–∑–Ω–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞.

–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
1.  **Backend + DB**: [Render](https://render.com) (–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ: –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 15 –º–∏–Ω –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è, –Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –∏–¥–µ–∞–ª—å–Ω–æ).
2.  **Frontend**: [Vercel](https://vercel.com) (–ë—ã—Å—Ç—Ä–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ, —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ —Å React/Vite).

---

## –ß–∞—Å—Ç—å 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Backend (Render.com)

1.  **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å** –Ω–∞ [render.com](https://render.com).
2.  –°–æ–∑–¥–∞–π—Ç–µ **New Web Service**.
3.  –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
4.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
    *   **Name:** `repair-platform-backend`
    *   **Region:** Frankfurt (–∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π)
    *   **Branch:** `main`
    *   **Root Directory:** `backend` (–í–ê–ñ–ù–û! –ò–Ω–∞—á–µ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç)
    *   **Environment:** `Ruby`
    *   **Build Command:** `./bin/render-build.sh`
    *   **Start Command:** `./bin/rails server`
    *   **Instance Type:** Free

5.  **Environment Variables (–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è):**
    –ù–∞–∂–º–∏—Ç–µ "Advanced" -> "Add Environment Variable" –∏ –¥–æ–±–∞–≤—å—Ç–µ:
    *   `RAILS_MASTER_KEY`: (–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `backend/config/master.key`)
    *   `DATABASE_URL`: (–°–º. —à–∞–≥ 6 "–ù–∏–∂–µ")
    *   `RAILS_ENV`: `production`
    *   `SECRET_KEY_BASE`: (–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–æ–º–∞–Ω–¥–æ–π `bundle exec rake secret` –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤—å—Ç–µ –¥–ª–∏–Ω–Ω—É—é —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É)
    *   `FRONTEND_URL`: **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!** –í—Å—Ç–∞–≤—å—Ç–µ URL –≤–∞—à–µ–≥–æ –±—É–¥—É—â–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://my-app.vercel.app`). *–ü–æ–∫–∞ –Ω–µ –∑–Ω–∞–µ—Ç–µ URL, –ø–æ—Å—Ç–∞–≤—å—Ç–µ `*` (–∑–≤–µ–∑–¥–æ—á–∫—É), –Ω–æ –ø–æ—Ç–æ–º –ª—É—á—à–µ –∑–∞–º–µ–Ω–∏—Ç—å.*

6.  **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL):**
    *   –í Render Dashboard –Ω–∞–∂–º–∏—Ç–µ **New** -> **PostgreSQL**.
    *   Name: `repair-db`
    *   Copy **Internal Database URL** –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL` –≤–∞—à–µ–≥–æ Web Service.

7.  **–§–∞–π–ª —Å–±–æ—Ä–∫–∏ (render-build.sh):**
    –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å —Ñ–∞–π–ª `backend/bin/render-build.sh` —Å –ø—Ä–∞–≤–∞–º–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è:
    ```bash
    #!/usr/bin/env bash
    set -o errexit
    bundle install
    bundle exec rails assets:precompile
    bundle exec rails assets:clean
    bundle exec rails db:migrate
    bundle exec rails db:seed # –¢–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–Ω–æ: –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã!
    ```

---

## –ß–∞—Å—Ç—å 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Frontend (Vercel)

1.  **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å** –Ω–∞ [vercel.com](https://vercel.com).
2.  –ù–∞–∂–º–∏—Ç–µ **Add New** -> **Project**.
3.  –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
4.  **–í–Ω–∏–º–∞–Ω–∏–µ!**
    *   **Root Directory:** –≤—ã–±–µ—Ä–∏—Ç–µ `frontend`.
5.  **Environment Variables:**
    *   `VITE_API_URL`: –≤—Å—Ç–∞–≤—å—Ç–µ URL –≤–∞—à–µ–≥–æ –±—ç–∫–µ–Ω–¥–∞ —Å Render (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://repair-platform-backend.onrender.com`).
6.  –ù–∞–∂–º–∏—Ç–µ **Deploy**.

---

## –ß–∞—Å—Ç—å 3: "–°–≤—è–∑—ã–≤–∞–Ω–∏–µ" (–§–∏–Ω–∞–ª—å–Ω—ã–π —à—Ç—Ä–∏—Ö)

–ö–∞–∫ —Ç–æ–ª—å–∫–æ Vercel –≤—ã–¥–∞—Å—Ç –≤–∞–º –∫—Ä–∞—Å–∏–≤—ã–π –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://repair-platform-xi.vercel.app`):
1.  –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ **Render** -> Dashboard -> –í–∞—à Backend.
2.  –ó–∞–π–¥–∏—Ç–µ –≤ **Environment**.
3.  –ò–∑–º–µ–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `FRONTEND_URL` —Å `*` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω Vercel.
4.  –≠—Ç–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç **CORS**, –∏ –±—Ä–∞—É–∑–µ—Ä —Ä–∞–∑—Ä–µ—à–∏—Ç –∑–∞–ø—Ä–æ—Å—ã.

---

## –ß–∞—Å—Ç—å 4: –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã (Troubleshooting)

*   **Logs (–õ–æ–≥–∏):** –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —É–ø–∞–ª–æ, —Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É "Logs" –≤ Render.
*   **Health Check:** Render –º–æ–∂–µ—Ç —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø—É—Ç—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è. –í Rails 7.1 —ç—Ç–æ `/up`. –ï—Å–ª–∏ –±—ç–∫–µ–Ω–¥ –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —ç—Ç–æ—Ç –ø—É—Ç—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 OK (–æ–±—ã—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏).
*   **Cold Start:** –ù–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ Render —Å–µ—Ä–≤–µ—Ä "–∑–∞—Å—ã–ø–∞–µ—Ç" —á–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç. –ü–µ—Ä–≤–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å–∞–π—Ç–∞ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å **30-50 —Å–µ–∫—É–Ω–¥**. –ü—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ –æ–± —ç—Ç–æ–º –∑–∞–∫–∞–∑—á–∏–∫–∞!